<!--252a3c68746d6c3e3c686561643e3c2f686561643e3c626f64793e3c6469762069643d226d61696e223e656e61626c65206a61766173637269707420737570706f72743c2f6469763e3c7363726970742069643d22736372223e0a202020202f2f207265663a20687474703a2f2f737461636b6f766572666c6f772e636f6d2f612f313239333136332f323334330a202020202f2f20546869732077696c6c20706172736520612064656c696d6974656420737472696e6720696e746f20616e206172726179206f660a202020202f2f206172726179732e205468652064656661756c742064656c696d697465722069732074686520636f6d6d612c2062757420746869730a202020202f2f2063616e206265206f766572726964656e20696e20746865207365636f6e6420617267756d656e742e0a2020202066756e6374696f6e20435356546f41727261792820737472446174612c2073747244656c696d6974657220297b0a20202020202020202f2f20436865636b20746f20736565206966207468652064656c696d6974657220697320646566696e65642e204966206e6f742c0a20202020202020202f2f207468656e2064656661756c7420746f20636f6d6d612e0a202020202020202073747244656c696d69746572203d202873747244656c696d69746572207c7c20222c22293b0a0a20202020202020202f2f20437265617465206120726567756c61722065787072657373696f6e20746f20706172736520746865204353562076616c7565732e0a2020202020202020766172206f626a5061747465726e203d206e657720526567457870280a202020202020202020202020280a202020202020202020202020202020202f2f2044656c696d69746572732e0a2020202020202020202020202020202022285c5c22202b2073747244656c696d69746572202b20227c5c5c723f5c5c6e7c5c5c727c5e2922202b0a0a202020202020202020202020202020202f2f2051756f746564206669656c64732e0a2020202020202020202020202020202022283f3a5c22285b5e5c225d2a283f3a5c225c225b5e5c225d2a292a295c227c22202b0a0a202020202020202020202020202020202f2f205374616e64617264206669656c64732e0a2020202020202020202020202020202022285b5e5c225c5c22202b2073747244656c696d69746572202b20225c5c725c5c6e5d2a2929220a202020202020202020202020292c0a202020202020202020202020226769220a202020202020202020202020293b0a0a0a20202020202020202f2f2043726561746520616e20617272617920746f20686f6c64206f757220646174612e2047697665207468652061727261790a20202020202020202f2f20612064656661756c7420656d70747920666972737420726f772e0a20202020202020207661722061727244617461203d205b5b5d5d3b0a0a20202020202020202f2f2043726561746520616e20617272617920746f20686f6c64206f757220696e646976696475616c207061747465726e0a20202020202020202f2f206d61746368696e672067726f7570732e0a2020202020202020766172206172724d617463686573203d206e756c6c3b0a0a0a20202020202020202f2f204b656570206c6f6f70696e67206f7665722074686520726567756c61722065787072657373696f6e206d6174636865730a20202020202020202f2f20756e74696c2077652063616e206e6f206c6f6e6765722066696e642061206d617463682e0a20202020202020207768696c6520286172724d617463686573203d206f626a5061747465726e2e657865632820737472446174612029297b0a0a2020202020202020202020202f2f20476574207468652064656c696d6974657220746861742077617320666f756e642e0a202020202020202020202020766172207374724d61746368656444656c696d69746572203d206172724d6174636865735b2031205d3b0a0a2020202020202020202020202f2f20436865636b20746f207365652069662074686520676976656e2064656c696d69746572206861732061206c656e6774680a2020202020202020202020202f2f20286973206e6f7420746865207374617274206f6620737472696e672920616e64206966206974206d6174636865730a2020202020202020202020202f2f206669656c642064656c696d697465722e20496620696420646f6573206e6f742c207468656e207765206b6e6f770a2020202020202020202020202f2f207468617420746869732064656c696d69746572206973206120726f772064656c696d697465722e0a202020202020202020202020696620280a202020202020202020202020202020207374724d61746368656444656c696d697465722e6c656e6774682026260a202020202020202020202020202020207374724d61746368656444656c696d6974657220213d3d2073747244656c696d697465720a20202020202020202020202020202020297b0a0a202020202020202020202020202020202f2f2053696e6365207765206861766520726561636865642061206e657720726f77206f6620646174612c0a202020202020202020202020202020202f2f2061646420616e20656d70747920726f7720746f206f757220646174612061727261792e0a20202020202020202020202020202020617272446174612e7075736828205b5d20293b0a0a2020202020202020202020207d0a0a202020202020202020202020766172207374724d61746368656456616c75653b0a0a2020202020202020202020202f2f204e6f7720746861742077652068617665206f75722064656c696d69746572206f7574206f6620746865207761792c0a2020202020202020202020202f2f206c6574277320636865636b20746f20736565207768696368206b696e64206f662076616c75652077650a2020202020202020202020202f2f206361707475726564202871756f746564206f7220756e71756f746564292e0a202020202020202020202020696620286172724d6174636865735b2032205d297b0a0a202020202020202020202020202020202f2f20576520666f756e6420612071756f7465642076616c75652e205768656e20776520636170747572650a202020202020202020202020202020202f2f20746869732076616c75652c20756e65736361706520616e7920646f75626c652071756f7465732e0a202020202020202020202020202020207374724d61746368656456616c7565203d206172724d6174636865735b2032205d2e7265706c616365280a20202020202020202020202020202020202020206e6577205265674578702820225c225c22222c2022672220292c0a2020202020202020202020202020202020202020225c22220a2020202020202020202020202020202020202020293b0a0a2020202020202020202020207d20656c7365207b0a0a202020202020202020202020202020202f2f20576520666f756e642061206e6f6e2d71756f7465642076616c75652e0a202020202020202020202020202020207374724d61746368656456616c7565203d206172724d6174636865735b2033205d3b0a0a2020202020202020202020207d0a0a0a2020202020202020202020202f2f204e6f7720746861742077652068617665206f75722076616c756520737472696e672c206c65742773206164640a2020202020202020202020202f2f20697420746f2074686520646174612061727261792e0a202020202020202020202020617272446174615b20617272446174612e6c656e677468202d2031205d2e7075736828207374724d61746368656456616c756520293b0a20202020202020207d0a0a20202020202020202f2f2052657475726e207468652070617273656420646174612e0a202020202020202072657475726e28206172724461746120293b0a202020207d0a0a2a250a6465662073686f7728712c653d276d61696e27293a0a20646f63756d656e742e676574456c656d656e74427949642865292e696e6e657248544d4c3d710a636f6e743d27270a72616e633d370a646566206665742871293a0a20653d27270a2066657463682871292e7468656e2866756e6374696f6e2872297b0a20696620722e6f6b3a0a2020722e7465787428292e7468656e2866756e6374696f6e2874297b0a2020636f6e743d740a202073686f7728273c627574746f6e206f6e636c69636b3d22746c697328293b72657475726e2066616c7365223ed0bdd0b0d187d0b0d182d18c3c2f627574746f6e3e27290a20207d290a20656c73653a0a2020616c65727428722e7374617475732b2720272b722e73746174757354657874290a2020636f6e743d27270a207d290a646566206672616e28293a0a2069662072616e633a0a202072616e632d3d310a202072657475726e204d6174682e72616e646f6d28290a20656c73653a0a202072616e633d370a202072657475726e20300a23232323232323232323232323232323232323232323230a73686f7728272727d0bdd0b0d0b7d0b2d0b0d0bdd0b8d0b520d182d0b5d181d182d0b03a0a3c666f726d206e616d653d22746e6922206f6e7375626d69743d226e616d655f6828293b72657475726e2066616c7365223e0a3c696e70757420747970653d227465787422206e616d653d22746e223e0a3c627574746f6e20747970653d227375626d6974223ed0bed182d0bad180d18bd182d18c3c2f627574746f6e3e0a3c2f666f726d3e0a3c6469762069643d226374223e3c2f6469763e0a272727290a646566206e616d655f6828293a0a20713d646f63756d656e742e666f726d732e746e692e656c656d656e74732e746e2e76616c75650a20613d66657428272e2f272b71290a2073686f772827d0bfd0bed0b4d0bed0b6d0b4d0b827290a64656620746c697328293a0a20613d636f6e742e73706c697428275c6e27290a20613d612e66696c7465722866756e6374696f6e2876616c2c696e642c617272297b72657475726e2076616c2e73706c697428272c27292e6c656e6774683e327d290a20763d4d6174682e666c6f6f72284d6174682e72616e646f6d28292a612e6c656e677468290a20696620273b2720696e20615b765d3a0a2020613d615b765d2e73706c697428273b27290a20656c73653a0a2020613d615b765d2e73706c697428272c27290a20643d5b5d0a207768696c6520642e6c656e6774683d3d303a0a2020666f7220323d773c612e6c656e6774683a0a2020206966206672616e28293c252a302e372a253a0a20202020763d273c62722f3e3c627574746f6e206f6e636c69636b3d2272657475726e2066616c7365223e272b615b4d6174682e666c6f6f72284d6174682e72616e646f6d28292a28612e6c656e6774682d3229292b325d2b273c2f627574746f6e3e270a20202020642e707573682876290a20642e756e736869667428273c62722f3e3c627574746f6e206f6e636c69636b3d22746c697328293b72657475726e2066616c7365223e272b615b315d2b273c2f627574746f6e3e27290a20642e736f72742866756e6374696f6e286f2c70297b72657475726e204d6174682e72616e646f6d28292d252a302e352a257d290a2073686f7728615b305d2b642e6a6f696e28272729290a23232323232323232323232323232323232323232323232323232323232323230a252a3c2f7363726970743e3c2f626f64793e3c2f68746d6c3e0a2a250a-->
<html><head></head><body><div id="main">enable javascript support</div><script id="scr">
    // ref: http://stackoverflow.com/a/1293163/2343
    // This will parse a delimited string into an array of
    // arrays. The default delimiter is the comma, but this
    // can be overriden in the second argument.
    function CSVToArray( strData, strDelimiter ){
        // Check to see if the delimiter is defined. If not,
        // then default to comma.
        strDelimiter = (strDelimiter || ",");

        // Create a regular expression to parse the CSV values.
        var objPattern = new RegExp(
            (
                // Delimiters.
                "(\\" + strDelimiter + "|\\r?\\n|\\r|^)" +

                // Quoted fields.
                "(?:\"([^\"]*(?:\"\"[^\"]*)*)\"|" +

                // Standard fields.
                "([^\"\\" + strDelimiter + "\\r\\n]*))"
            ),
            "gi"
            );


        // Create an array to hold our data. Give the array
        // a default empty first row.
        var arrData = [[]];

        // Create an array to hold our individual pattern
        // matching groups.
        var arrMatches = null;


        // Keep looping over the regular expression matches
        // until we can no longer find a match.
        while (arrMatches = objPattern.exec( strData )){

            // Get the delimiter that was found.
            var strMatchedDelimiter = arrMatches[ 1 ];

            // Check to see if the given delimiter has a length
            // (is not the start of string) and if it matches
            // field delimiter. If id does not, then we know
            // that this delimiter is a row delimiter.
            if (
                strMatchedDelimiter.length &&
                strMatchedDelimiter !== strDelimiter
                ){

                // Since we have reached a new row of data,
                // add an empty row to our data array.
                arrData.push( [] );

            }

            var strMatchedValue;

            // Now that we have our delimiter out of the way,
            // let's check to see which kind of value we
            // captured (quoted or unquoted).
            if (arrMatches[ 2 ]){

                // We found a quoted value. When we capture
                // this value, unescape any double quotes.
                strMatchedValue = arrMatches[ 2 ].replace(
                    new RegExp( "\"\"", "g" ),
                    "\""
                    );

            } else {

                // We found a non-quoted value.
                strMatchedValue = arrMatches[ 3 ];

            }


            // Now that we have our value string, let's add
            // it to the data array.
            arrData[ arrData.length - 1 ].push( strMatchedValue );
        }

        // Return the parsed data.
        return( arrData );
    }


 function show (  q ,  e = 'main' ){
 document . getElementById ( e ) . innerHTML = q;}
cont = '';
ranc = 7;
 function fet (  q ){
 e = '';
 fetch ( q ) . then ( function ( r ) {;
 if(r . ok ){
  r . text ( ) . then ( function ( t ) {;
  cont = t;
  show ( '<button onclick="tlis();return false">начать</button>' );
  } );}
 else{
  alert ( r . status + ' ' + r . statusText );
  cont = '';}
 } );}
 function fran (){
 if(ranc ){
  ranc -= 1;
  return Math . random ( );}
 else{
  ranc = 7;
  return 0;}}
show ( "название теста:<br><form name=\"tni\" onsubmit=\"name_h();return false\"><br><input type=\"text\" name=\"tn\"><br><button type=\"submit\">открыть</button><br></form><br><div id=\"ct\"></div><br>" );
 function name_h (){
 q = document . forms . tni . elements . tn . value;
 a = fet ( './' + q );
 show ( 'подожди' );}
 function tlis (){
 a = cont . split ( '\n' );
 a = a . filter ( function ( val , ind , arr ) { return val . split ( ',' ) . length > 2 } );
 v = Math . floor ( Math . random ( ) * a . length );
 if(';' in a [ v ] ){
  a = a [ v ] . split ( ';' );}
 else{
  a = a [ v ] . split ( ',' );}
 d = [ ];
 while(d . length == 0 ){
  for( w =2 ; w < a . length; w ++){
   if(fran ( ) <0.7){
    v = '<br/><button onclick="return false">' + a [ Math . floor ( Math . random ( ) * ( a . length - 2 ) ) + 2 ] + '</button>';
    d . push ( v );}}}
 d . unshift ( '<br/><button onclick="tlis();return false">' + a [ 1 ] + '</button>' );
 d . sort ( function ( o , p ) { return Math . random ( ) -0.5} );
 show ( a [ 0 ] + d . join ( '' ) );}
</script></body></html>


